function News(){}News.prototype.run=function(){this.listenQiniuUploadFileEvent(),this.initUEditor(),this.listenReleaseNewsEvent()},News.prototype.listenUploadFile=function(){var n=$("#thumbnail-btn");n.change(function(){var e=n[0].files[0],t=new FormData;t.append("file",e),antajax.post({url:"/cms/upload_file/",data:t,processData:!1,contentType:!1,success:function(e){if(200===e.code){var t=e.data.url;$("#thumbnail-form").val(t)}}})})},News.prototype.handleFileUploadProcess=function(e){var t=e.total.percent.toFixed(0)+"%";News.processGroup.show();var n=$(".progress-bar");n.css({width:t}),n.text(t)},News.prototype.handleFileUploadError=function(e){window.messageBox.showError(e)},News.prototype.handleFileUploadComplete=function(e){$("#process-group").hide();var t="http://q87jey5py.bkt.clouddn.com/"+e.key;$("#thumbnail-form").val(t)},News.prototype.listenQiniuUploadFileEvent=function(){var r=this;$("#thumbnail-btn").change(function(){var a=this.files[0],e=a.name.split(".").length,s=a.name.split(".")[e-1];antajax.get({url:"/cms/qntoken/",success:function(e){if(200===e.code){var t=(new Date).getTime()+"."+s,n=e.data.token,o={fname:t,params:{},mimeType:["image/png","image/jpeg","image/gif"]},i={useCdnDomain:!0,retryCount:6,region:qiniu.region.z2};qiniu.upload(a,t,n,o,i).subscribe({next:r.handleFileUploadProcess,error:r.handleFileUploadError,complete:r.handleFileUploadComplete})}}})})},News.prototype.initUEditor=function(){window.ue=UE.getEditor("UEditor",{initialFrameHeight:400,serverUrl:"/ueditor/upload/"})},News.prototype.listenReleaseNewsEvent=function(){$("#submit-Btn").click(function(e){e.preventDefault();var t=$("input[name='title']").val(),n=$("input[name='desc']").val(),o=$("input[name='thumbnail']").val(),i=$("select[name='category']").val(),a=window.ue.getContent();antajax.post({url:"/cms/release_news/",data:{title:t,desc:n,thumbnail:o,content:a,category:i},success:function(e){200===e.code&&antalert.alertSuccess("小可爱，你的新闻已经添加完成了哦！~~",function(){window.location.reload()})}})})},$(function(){(new News).run(),News.processGroup=$("#process-group")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbGVhc2VfbmV3cy5qcyJdLCJuYW1lcyI6WyJOZXdzIiwicHJvdG90eXBlIiwicnVuIiwidGhpcyIsImxpc3RlblFpbml1VXBsb2FkRmlsZUV2ZW50IiwiaW5pdFVFZGl0b3IiLCJsaXN0ZW5SZWxlYXNlTmV3c0V2ZW50IiwibGlzdGVuVXBsb2FkRmlsZSIsInVwbG9hZEJ0biIsIiQiLCJjaGFuZ2UiLCJmaWxlIiwiZmlsZXMiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwiYW50YWpheCIsInBvc3QiLCJ1cmwiLCJkYXRhIiwicHJvY2Vzc0RhdGEiLCJjb250ZW50VHlwZSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJ2YWwiLCJoYW5kbGVGaWxlVXBsb2FkUHJvY2VzcyIsInJlc3BvbnNlIiwicGVyY2VudFRleHQiLCJ0b3RhbCIsInBlcmNlbnQiLCJ0b0ZpeGVkIiwicHJvY2Vzc0dyb3VwIiwic2hvdyIsInByb2Nlc3NCYXIiLCJjc3MiLCJ3aWR0aCIsInRleHQiLCJoYW5kbGVGaWxlVXBsb2FkRXJyb3IiLCJlcnJvciIsIndpbmRvdyIsIm1lc3NhZ2VCb3giLCJzaG93RXJyb3IiLCJoYW5kbGVGaWxlVXBsb2FkQ29tcGxldGUiLCJoaWRlIiwia2V5Iiwic2VsZiIsImZpbGVMZW5ndGgiLCJuYW1lIiwic3BsaXQiLCJsZW5ndGgiLCJzdWZmaXhOYW1lIiwiZ2V0IiwiRGF0ZSIsImdldFRpbWUiLCJ0b2tlbiIsInB1dEV4dHJhIiwiZm5hbWUiLCJwYXJhbXMiLCJtaW1lVHlwZSIsImNvbmZpZyIsInVzZUNkbkRvbWFpbiIsInJldHJ5Q291bnQiLCJyZWdpb24iLCJxaW5pdSIsInoyIiwidXBsb2FkIiwic3Vic2NyaWJlIiwibmV4dCIsImNvbXBsZXRlIiwidWUiLCJVRSIsImdldEVkaXRvciIsImluaXRpYWxGcmFtZUhlaWdodCIsInNlcnZlclVybCIsImNsaWNrIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInRpdGxlIiwiZGVzYyIsInRodW1ibmFpbCIsImNhdGVnb3J5IiwiY29udGVudCIsImdldENvbnRlbnQiLCJhbnRhbGVydCIsImFsZXJ0U3VjY2VzcyIsImxvY2F0aW9uIiwicmVsb2FkIl0sIm1hcHBpbmdzIjoiQUFTQSxTQUFTQSxRQUlUQSxLQUFLQyxVQUFVQyxJQUFNLFdBRWpCQyxLQUFLQyw2QkFDTEQsS0FBS0UsY0FDTEYsS0FBS0csMEJBS1ROLEtBQUtDLFVBQVVNLGlCQUFtQixXQUM5QixJQUNJQyxFQUFZQyxFQUFFLGtCQUdsQkQsRUFBVUUsT0FBTyxXQUNiLElBQUlDLEVBQU9ILEVBQVUsR0FBR0ksTUFBTSxHQUMxQkMsRUFBVyxJQUFJQyxTQUNuQkQsRUFBU0UsT0FBTyxPQUFRSixHQUN4QkssUUFBUUMsS0FBSyxDQUNUQyxJQUFPLG9CQUNQQyxLQUFRTixFQUNSTyxhQUFlLEVBQ2ZDLGFBQWUsRUFDZkMsUUFBVyxTQUFVQyxHQUNqQixHQUF1QixNQUFuQkEsRUFBYSxLQUFXLENBQ3hCLElBQUlMLEVBQU1LLEVBQWEsS0FBTyxJQUNWZCxFQUFFLG1CQUNSZSxJQUFJTixVQVF0Q2xCLEtBQUtDLFVBQVV3Qix3QkFBMEIsU0FBVUMsR0FDL0MsSUFHSUMsRUFGUUQsRUFBU0UsTUFDREMsUUFDTUMsUUFBUSxHQUFLLElBQ3BCOUIsS0FBSytCLGFBQ1hDLE9BRWIsSUFBSUMsRUFBYXhCLEVBQUUsaUJBQ25Cd0IsRUFBV0MsSUFBSSxDQUFDQyxNQUFTUixJQUN6Qk0sRUFBV0csS0FBS1QsSUFJcEIzQixLQUFLQyxVQUFVb0Msc0JBQXdCLFNBQVVDLEdBQzdDQyxPQUFPQyxXQUFXQyxVQUFVSCxJQUloQ3RDLEtBQUtDLFVBQVV5Qyx5QkFBMkIsU0FBVWhCLEdBRTdCakIsRUFBRSxrQkFDUmtDLE9BR2IsSUFFSXpCLEVBRlMsb0NBQ0VRLEVBQVNrQixJQUVKbkMsRUFBRSxtQkFDUmUsSUFBSU4sSUFHdEJsQixLQUFLQyxVQUFVRywyQkFBNkIsV0FDeEMsSUFBSXlDLEVBQU8xQyxLQUNRTSxFQUFFLGtCQUNSQyxPQUFPLFdBQ2hCLElBQUlDLEVBQU9SLEtBQUtTLE1BQU0sR0FHbEJrQyxFQUFhbkMsRUFBS29DLEtBQUtDLE1BQU0sS0FBS0MsT0FDbENDLEVBQWF2QyxFQUFLb0MsS0FBS0MsTUFBTSxLQUFLRixFQUFhLEdBRW5EOUIsUUFBUW1DLElBQUksQ0FDUmpDLElBQU8sZ0JBQ1BJLFFBQVcsU0FBVUMsR0FDakIsR0FBdUIsTUFBbkJBLEVBQWEsS0FBVyxDQUN4QixJQUFJcUIsR0FBTSxJQUFLUSxNQUFRQyxVQUFZLElBQU1ILEVBQ3JDSSxFQUFRL0IsRUFBYSxLQUFTLE1BQzlCZ0MsRUFBVyxDQUNYQyxNQUFPWixFQUNQYSxPQUFRLEdBRVJDLFNBQVUsQ0FBQyxZQUFhLGFBQWMsY0FFdENDLEVBQVMsQ0FDVEMsY0FBYyxFQUNkQyxXQUFZLEVBQ1pDLE9BQVFDLE1BQU1ELE9BQU9FLElBRVJELE1BQU1FLE9BQU90RCxFQUFNaUMsRUFBS1UsRUFBT0MsRUFBVUksR0FDL0NPLFVBQVUsQ0FDakJDLEtBQVF0QixFQUFLcEIsd0JBQ2JhLE1BQVNPLEVBQUtSLHNCQUNkK0IsU0FBWXZCLEVBQUtILGtDQVN6QzFDLEtBQUtDLFVBQVVJLFlBQWMsV0FDekJrQyxPQUFPOEIsR0FBS0MsR0FBR0MsVUFBVSxVQUFXLENBQ2hDQyxtQkFBc0IsSUFDdEJDLFVBQWEsc0JBSXJCekUsS0FBS0MsVUFBVUssdUJBQXlCLFdBQ3BCRyxFQUFFLGVBQ1JpRSxNQUFNLFNBQVVDLEdBQ3RCQSxFQUFNQyxpQkFFTixJQUFJQyxFQUFRcEUsRUFBRSx1QkFBdUJlLE1BQ2pDc0QsRUFBT3JFLEVBQUUsc0JBQXNCZSxNQUMvQnVELEVBQVl0RSxFQUFFLDJCQUEyQmUsTUFDekN3RCxFQUFXdkUsRUFBRSwyQkFBMkJlLE1BQ3hDeUQsRUFBVTFDLE9BQU84QixHQUFHYSxhQUV4QmxFLFFBQVFDLEtBQUssQ0FDVEMsSUFBTyxxQkFDUEMsS0FBUSxDQUNKMEQsTUFBU0EsRUFDVEMsS0FBUUEsRUFDUkMsVUFBYUEsRUFDYkUsUUFBV0EsRUFDWEQsU0FBWUEsR0FFaEIxRCxRQUFXLFNBQVVDLEdBQ00sTUFBbkJBLEVBQWEsTUFDYjRELFNBQVNDLGFBQWEsc0JBQXVCLFdBQ3pDN0MsT0FBTzhDLFNBQVNDLGlCQVN4QzdFLEVBQUUsWUFDYSxJQUFJVCxNQUNWRSxNQUNMRixLQUFLK0IsYUFBZXRCLEVBQUUiLCJmaWxlIjoicmVsZWFzZV9uZXdzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBARGVzY3JpcHRpb246IHJlbGVhc2VfbmV3cy5qc1xyXG4gKiBAQXV0aG9yOiDlraTng5/pgJDkupF6anlcclxuICogQERhdGU6IDIwMjAvNC8yIDk6MDBcclxuICogQFNvZnRXYXJlOiBQeUNoYXJtXHJcbiAqIEBDU0ROOiBodHRwczovL2Jsb2cuY3Nkbi5uZXQvemp5MTIzMDc4X3pqeVxyXG4gKiBA5Y2a5a6i5ZutOiBodHRwczovL3d3dy5jbmJsb2dzLmNvbS9ndXlhbi0yMDIwL1xyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIE5ld3MoKSB7XHJcblxyXG59XHJcblxyXG5OZXdzLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyB0aGlzLmxpc3RlblVwbG9hZEZpbGUoKTtcclxuICAgIHRoaXMubGlzdGVuUWluaXVVcGxvYWRGaWxlRXZlbnQoKTtcclxuICAgIHRoaXMuaW5pdFVFZGl0b3IoKTtcclxuICAgIHRoaXMubGlzdGVuUmVsZWFzZU5ld3NFdmVudCgpO1xyXG59O1xyXG5cclxuXHJcbi8vIOebkeWQrOS4iuS8oOeahOaWh+S7tu+8jOS4iuS8oOiHs+acrOWcsOacjeWKoeWZqFxyXG5OZXdzLnByb3RvdHlwZS5saXN0ZW5VcGxvYWRGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHVwbG9hZEJ0biA9ICQoXCIjdGh1bWJuYWlsLWJ0blwiKTtcclxuICAgIC8vIOatpOaXtuiOt+WPlueahHVwbG9hZEJ0buaYr+S4gOS4qumbhuWQiO+8iOi/lOWbnuaJgOaciea7oei2s++8mmlkPXRodW1ibmFpbC1idG7vvIlcclxuICAgIC8vIOW9k+WFg+e0oOeahOWAvOWPkeeUn+aUueWPmOeahOaXtuWAme+8jOS8muWPkeeUn2NoYW5nZeS6i+S7tuOAgmNoYW5nZSgp5Ye95pWw6Kem5Y+RY2hhbmdl5LqL5Lu277yM5oiW6KeE5a6a5b2T5Y+R55SfY2hhbmdl5LqL5Lu25pe26L+Q6KGM55qE5Ye95pWw44CCXHJcbiAgICB1cGxvYWRCdG4uY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZmlsZSA9IHVwbG9hZEJ0blswXS5maWxlc1swXTtcclxuICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcclxuICAgICAgICBhbnRhamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9jbXMvdXBsb2FkX2ZpbGUvJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiBmb3JtRGF0YSxcclxuICAgICAgICAgICAgJ3Byb2Nlc3NEYXRhJzogZmFsc2UsXHJcbiAgICAgICAgICAgICdjb250ZW50VHlwZSc6IGZhbHNlLFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IHJlc3VsdFsnZGF0YSddWyd1cmwnXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGh1bWJuYWlsRm9ybSA9ICQoXCIjdGh1bWJuYWlsLWZvcm1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsRm9ybS52YWwodXJsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG4vLyDlpITnkIbkuIrkvKDov5vluqbnmoTlm57osINcclxuTmV3cy5wcm90b3R5cGUuaGFuZGxlRmlsZVVwbG9hZFByb2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciB0b3RhbCA9IHJlc3BvbnNlLnRvdGFsO1xyXG4gICAgdmFyIHBlcmNlbnQgPSB0b3RhbC5wZXJjZW50O1xyXG4gICAgdmFyIHBlcmNlbnRUZXh0ID0gcGVyY2VudC50b0ZpeGVkKDApICsgXCIlXCI7XHJcbiAgICB2YXIgcHJvY2Vzc0dyb3VwID0gTmV3cy5wcm9jZXNzR3JvdXA7XHJcbiAgICBwcm9jZXNzR3JvdXAuc2hvdygpO1xyXG5cclxuICAgIHZhciBwcm9jZXNzQmFyID0gJChcIi5wcm9ncmVzcy1iYXJcIik7XHJcbiAgICBwcm9jZXNzQmFyLmNzcyh7XCJ3aWR0aFwiOiBwZXJjZW50VGV4dH0pO1xyXG4gICAgcHJvY2Vzc0Jhci50ZXh0KHBlcmNlbnRUZXh0KTtcclxufTtcclxuXHJcbi8vIOWkhOeQhuaWh+S7tuS4iuS8oOmUmeivr+aXtueahOWbnuiwg1xyXG5OZXdzLnByb3RvdHlwZS5oYW5kbGVGaWxlVXBsb2FkRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dFcnJvcihlcnJvcik7XHJcbn07XHJcblxyXG4vLyDlpITnkIbmlofku7bkuIrkvKDmiJDlip/ml7bnmoTlm57osINcclxuTmV3cy5wcm90b3R5cGUuaGFuZGxlRmlsZVVwbG9hZENvbXBsZXRlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAvLyDlm77niYfkuIrkvKDmiJDlip/ml7bvvIzpmpDol4/mjolcclxuICAgIHZhciBwcm9jZXNzR3JvdXAgPSAkKFwiI3Byb2Nlc3MtZ3JvdXBcIik7XHJcbiAgICBwcm9jZXNzR3JvdXAuaGlkZSgpO1xyXG5cclxuICAgIC8vIOWwhuWbvueJh+eahHVybOWtmOaUvuWcqOi+k+WFpeahhuS4rVxyXG4gICAgdmFyIGRvbWFpbiA9ICdodHRwOi8vcTg3amV5NXB5LmJrdC5jbG91ZGRuLmNvbS8nO1xyXG4gICAgdmFyIGZpbGVuYW1lID0gcmVzcG9uc2Uua2V5O1xyXG4gICAgdmFyIHVybCA9IGRvbWFpbiArIGZpbGVuYW1lO1xyXG4gICAgdmFyIHRodW1ibmFpbEZvcm0gPSAkKFwiI3RodW1ibmFpbC1mb3JtXCIpO1xyXG4gICAgdGh1bWJuYWlsRm9ybS52YWwodXJsKTtcclxufTtcclxuXHJcbk5ld3MucHJvdG90eXBlLmxpc3RlblFpbml1VXBsb2FkRmlsZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHRodW1ibmFpbEJ0biA9ICQoXCIjdGh1bWJuYWlsLWJ0blwiKTtcclxuICAgIHRodW1ibmFpbEJ0bi5jaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5maWxlc1swXTtcclxuXHJcbiAgICAgICAgLy8g5bCG5LiK5Lyg55qE5paH5Lu25oyJ54WnLui/m+ihjOWIh+WJsu+8jOS7peaVsOe7hOS4reeahOacgOWQjuS4gOS4quS9nOS4uuWQjue8gOWQjVxyXG4gICAgICAgIHZhciBmaWxlTGVuZ3RoID0gZmlsZS5uYW1lLnNwbGl0KCcuJykubGVuZ3RoO1xyXG4gICAgICAgIHZhciBzdWZmaXhOYW1lID0gZmlsZS5uYW1lLnNwbGl0KCcuJylbZmlsZUxlbmd0aCAtIDFdO1xyXG4gICAgICAgIC8vIOmAmui/h2dldOivt+axguiOt+WPlnRva2VuXHJcbiAgICAgICAgYW50YWpheC5nZXQoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9jbXMvcW50b2tlbi8nLFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgKyAnLicgKyBzdWZmaXhOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3VsdFsnZGF0YSddWyd0b2tlbiddO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwdXRFeHRyYSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm5hbWU6IGtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWltZVR5cGU6IFsnaW1hZ2UvcG5nJywgJ2ltYWdlL2pwZWcnLCAnaW1hZ2UvZ2lmJywgJ3ZpZGVvL3gtbXMtd212J10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbWVUeXBlOiBbJ2ltYWdlL3BuZycsICdpbWFnZS9qcGVnJywgJ2ltYWdlL2dpZiddLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlQ2RuRG9tYWluOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXRyeUNvdW50OiA2LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpb246IHFpbml1LnJlZ2lvbi56MlxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9ic2VydmFibGUgPSBxaW5pdS51cGxvYWQoZmlsZSwga2V5LCB0b2tlbiwgcHV0RXh0cmEsIGNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YWJsZS5zdWJzY3JpYmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dCc6IHNlbGYuaGFuZGxlRmlsZVVwbG9hZFByb2Nlc3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdlcnJvcic6IHNlbGYuaGFuZGxlRmlsZVVwbG9hZEVycm9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnY29tcGxldGUnOiBzZWxmLmhhbmRsZUZpbGVVcGxvYWRDb21wbGV0ZSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5cclxuTmV3cy5wcm90b3R5cGUuaW5pdFVFZGl0b3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB3aW5kb3cudWUgPSBVRS5nZXRFZGl0b3IoJ1VFZGl0b3InLCB7XHJcbiAgICAgICAgJ2luaXRpYWxGcmFtZUhlaWdodCc6IDQwMCxcclxuICAgICAgICAnc2VydmVyVXJsJzogJy91ZWRpdG9yL3VwbG9hZC8nLFxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5OZXdzLnByb3RvdHlwZS5saXN0ZW5SZWxlYXNlTmV3c0V2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHN1Ym1pdEJ0biA9ICQoXCIjc3VibWl0LUJ0blwiKTtcclxuICAgIHN1Ym1pdEJ0bi5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICB2YXIgdGl0bGUgPSAkKFwiaW5wdXRbbmFtZT0ndGl0bGUnXVwiKS52YWwoKTtcclxuICAgICAgICB2YXIgZGVzYyA9ICQoXCJpbnB1dFtuYW1lPSdkZXNjJ11cIikudmFsKCk7XHJcbiAgICAgICAgdmFyIHRodW1ibmFpbCA9ICQoXCJpbnB1dFtuYW1lPSd0aHVtYm5haWwnXVwiKS52YWwoKTtcclxuICAgICAgICB2YXIgY2F0ZWdvcnkgPSAkKFwic2VsZWN0W25hbWU9J2NhdGVnb3J5J11cIikudmFsKCk7XHJcbiAgICAgICAgdmFyIGNvbnRlbnQgPSB3aW5kb3cudWUuZ2V0Q29udGVudCgpO1xyXG5cclxuICAgICAgICBhbnRhamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogXCIvY21zL3JlbGVhc2VfbmV3cy9cIixcclxuICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAndGl0bGUnOiB0aXRsZSxcclxuICAgICAgICAgICAgICAgICdkZXNjJzogZGVzYyxcclxuICAgICAgICAgICAgICAgICd0aHVtYm5haWwnOiB0aHVtYm5haWwsXHJcbiAgICAgICAgICAgICAgICAnY29udGVudCc6IGNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICAnY2F0ZWdvcnknOiBjYXRlZ29yeSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFudGFsZXJ0LmFsZXJ0U3VjY2VzcyhcIuWwj+WPr+eIse+8jOS9oOeahOaWsOmXu+W3sue7j+a3u+WKoOWujOaIkOS6huWTpu+8gX5+XCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBuZXdzID0gbmV3IE5ld3MoKTtcclxuICAgIG5ld3MucnVuKCk7XHJcbiAgICBOZXdzLnByb2Nlc3NHcm91cCA9ICQoXCIjcHJvY2Vzcy1ncm91cFwiKTtcclxufSk7Il19
