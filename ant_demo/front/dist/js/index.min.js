function Banner(){this.index=1,this.bannerWidth=260,this.bannerGroup=$("#banner-group"),this.leftArrow=$(".left-arrow"),this.rightArrow=$(".right-arrow"),this.bannerUl=$("#banner-ul"),this.bannerList=this.bannerUl.children("li"),this.bannerCount=this.bannerList.length,this.pagecontrol=$(".page-control")}function NewsAutoLoadMore(){this.page=2,this.category_id=0,this.loadMore=$("#load-more")}Banner.prototype.animate=function(){var n=this;n.bannerUl.stop().animate({left:-260*n.index},500);var e=n.index;e=0===e?n.bannerCount-1:e===n.bannerCount+1?0:n.index-1,n.pagecontrol.children("li").eq(e).addClass("active").siblings().removeClass("active")},Banner.prototype.initBanner=function(){var n=this,e=n.bannerList.eq(0).clone(),t=n.bannerList.eq(n.bannerCount-1).clone();n.bannerUl.append(e),n.bannerUl.prepend(t),n.bannerUl.css({width:n.bannerWidth*(n.bannerCount+2),left:-n.bannerWidth})},Banner.prototype.initPageControl=function(){for(var n=this,e=0;e<n.bannerCount;e++){var t=$("<li></li>");n.pagecontrol.append(t),0===e&&t.addClass("active")}n.pagecontrol.css({width:10*this.bannerCount+12+12*(n.bannerCount-1)})},Banner.prototype.loop=function(){var n=this;n.timer=setInterval(function(){n.index>=n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.animate()},2e3)},Banner.prototype.listenArrowClick=function(){var n=this;n.leftArrow.click(function(){0===n.index?(n.bannerUl.css({left:-n.bannerCount*n.bannerWidth}),n.index=n.bannerCount-1):n.index--,n.animate()}),n.rightArrow.click(function(){n.index===n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.animate()})},Banner.prototype.toggleArrow=function(n){n?(this.leftArrow.show(),this.rightArrow.show()):(this.leftArrow.hide(),this.rightArrow.hide())},Banner.prototype.listenBannerHover=function(){var n=this;n.bannerGroup.hover(function(){clearInterval(n.timer),n.toggleArrow(!0)},function(){n.loop(),n.toggleArrow(!1)})},Banner.prototype.listenPageControl=function(){var t=this;t.pagecontrol.children("li").each(function(n,e){$(e).click(function(){t.index=n+1,t.animate()})})},Banner.prototype.run=function(){this.loop(),this.listenArrowClick(),this.listenBannerHover(),this.initPageControl(),this.initBanner(),this.listenPageControl()},NewsAutoLoadMore.prototype.listenCategorySwitchEvent=function(){var a=this;$(".list-tab").children().click(function(){var o=$(this),i=o.attr("data-category");antajax.get({url:"/news/list/",data:{category_id:i,p:1},success:function(n){if(200===n.code){var e=n.data,t=template("news-load-more",{newses:e}),r=$(".list-inner-group");r.empty(),r.append(t),a.page=2,a.category_id=i,o.addClass("active").siblings().removeClass("active"),a.loadMore.show()}}})})},NewsAutoLoadMore.prototype.listenNewsLoadMore=function(){var r=this;r.loadMore.click(function(){antajax.get({url:"/news/list/",data:{category_id:r.category_id,p:r.page},success:function(n){if(200===n.code){var e=n.data;if(0<e.length){var t=template("news-load-more",{newses:e});$(".list-inner-group").append(t),r.page++}else r.loadMore.hide()}}})})},NewsAutoLoadMore.prototype.run=function(){this.listenNewsLoadMore(),this.listenCategorySwitchEvent()},$(function(){(new Banner).run(),(new NewsAutoLoadMore).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkJhbm5lciIsInRoaXMiLCJpbmRleCIsImJhbm5lcldpZHRoIiwiYmFubmVyR3JvdXAiLCIkIiwibGVmdEFycm93IiwicmlnaHRBcnJvdyIsImJhbm5lclVsIiwiYmFubmVyTGlzdCIsImNoaWxkcmVuIiwiYmFubmVyQ291bnQiLCJsZW5ndGgiLCJwYWdlY29udHJvbCIsIk5ld3NBdXRvTG9hZE1vcmUiLCJwYWdlIiwiY2F0ZWdvcnlfaWQiLCJsb2FkTW9yZSIsInByb3RvdHlwZSIsImFuaW1hdGUiLCJzZWxmIiwic3RvcCIsImxlZnQiLCJlcSIsImFkZENsYXNzIiwic2libGluZ3MiLCJyZW1vdmVDbGFzcyIsImluaXRCYW5uZXIiLCJmaXJzdEJhbm5lciIsImNsb25lIiwibGFzdEJhbm5lciIsImFwcGVuZCIsInByZXBlbmQiLCJjc3MiLCJ3aWR0aCIsImluaXRQYWdlQ29udHJvbCIsImkiLCJjaXJjbGUiLCJsb29wIiwidGltZXIiLCJzZXRJbnRlcnZhbCIsImxpc3RlbkFycm93Q2xpY2siLCJjbGljayIsInRvZ2dsZUFycm93IiwiaXNTaG93Iiwic2hvdyIsImhpZGUiLCJsaXN0ZW5CYW5uZXJIb3ZlciIsImhvdmVyIiwiY2xlYXJJbnRlcnZhbCIsImxpc3RlblBhZ2VDb250cm9sIiwiZWFjaCIsIm9iaiIsInJ1biIsImxpc3RlbkNhdGVnb3J5U3dpdGNoRXZlbnQiLCJsaSIsImF0dHIiLCJhbnRhamF4IiwiZ2V0IiwidXJsIiwiZGF0YSIsInAiLCJzdWNjZXNzIiwicmVzdWx0IiwibmV3c2VzIiwidHBsIiwidGVtcGxhdGUiLCJsaXN0SW5uZXJHcm91cCIsImVtcHR5IiwibGlzdGVuTmV3c0xvYWRNb3JlIl0sIm1hcHBpbmdzIjoiQUFDQSxTQUFTQSxTQUNMQyxLQUFLQyxNQUFRLEVBQ2JELEtBQUtFLFlBQWMsSUFDbkJGLEtBQUtHLFlBQWNDLEVBQUUsaUJBQ3JCSixLQUFLSyxVQUFZRCxFQUFFLGVBQ25CSixLQUFLTSxXQUFhRixFQUFFLGdCQUNwQkosS0FBS08sU0FBV0gsRUFBRSxjQUNsQkosS0FBS1EsV0FBYVIsS0FBS08sU0FBU0UsU0FBUyxNQUV6Q1QsS0FBS1UsWUFBY1YsS0FBS1EsV0FBV0csT0FDbkNYLEtBQUtZLFlBQWNSLEVBQUUsaUJBb0p6QixTQUFTUyxtQkFDTGIsS0FBS2MsS0FBTyxFQUNaZCxLQUFLZSxZQUFjLEVBQ25CZixLQUFLZ0IsU0FBV1osRUFBRSxjQXBKdEJMLE9BQU9rQixVQUFVQyxRQUFVLFdBQ3ZCLElBQUlDLEVBQU9uQixLQUNYbUIsRUFBS1osU0FBU2EsT0FBT0YsUUFBUSxDQUFDRyxNQUFTLElBQUlGLEVBQUtsQixPQUFRLEtBQ3hELElBQUlBLEVBQVFrQixFQUFLbEIsTUFFYkEsRUFEUyxJQUFWQSxFQUNTa0IsRUFBS1QsWUFBWSxFQUNwQlQsSUFBVWtCLEVBQUtULFlBQVksRUFDeEIsRUFFQVMsRUFBS2xCLE1BQU0sRUFPdkJrQixFQUFLUCxZQUFZSCxTQUFTLE1BQU1hLEdBQUdyQixHQUFPc0IsU0FBUyxVQUFVQyxXQUFXQyxZQUFZLFdBS3hGMUIsT0FBT2tCLFVBQVVTLFdBQWEsV0FFMUIsSUFBSVAsRUFBT25CLEtBQ1AyQixFQUFjUixFQUFLWCxXQUFXYyxHQUFHLEdBQUdNLFFBQ3BDQyxFQUFhVixFQUFLWCxXQUFXYyxHQUFHSCxFQUFLVCxZQUFZLEdBQUdrQixRQUV4RFQsRUFBS1osU0FBU3VCLE9BQU9ILEdBQ3JCUixFQUFLWixTQUFTd0IsUUFBUUYsR0FDdEJWLEVBQUtaLFNBQVN5QixJQUFJLENBQUNDLE1BQVNkLEVBQUtqQixhQUFhaUIsRUFBS1QsWUFBWSxHQUFJVyxNQUFTRixFQUFLakIsZUFJckZILE9BQU9rQixVQUFVaUIsZ0JBQWtCLFdBRS9CLElBREEsSUFBSWYsRUFBT25CLEtBQ0ZtQyxFQUFJLEVBQUdBLEVBQUloQixFQUFLVCxZQUFheUIsSUFBSyxDQUN2QyxJQUFJQyxFQUFTaEMsRUFBRSxhQUNmZSxFQUFLUCxZQUFZa0IsT0FBT00sR0FFZCxJQUFORCxHQUNBQyxFQUFPYixTQUFTLFVBR3hCSixFQUFLUCxZQUFZb0IsSUFBSSxDQUFDQyxNQUE0QixHQUFuQmpDLEtBQUtVLFlBQW1CLEdBQVEsSUFBTVMsRUFBS1QsWUFBYyxNQUk1RlgsT0FBT2tCLFVBQVVvQixLQUFPLFdBQ3BCLElBQUlsQixFQUFPbkIsS0FFWG1CLEVBQUttQixNQUFRQyxZQUFZLFdBQ2pCcEIsRUFBS2xCLE9BQVNrQixFQUFLVCxZQUFZLEdBQy9CUyxFQUFLWixTQUFTeUIsSUFBSSxDQUFDWCxNQUFTRixFQUFLakIsY0FDakNpQixFQUFLbEIsTUFBUSxHQUVia0IsRUFBS2xCLFFBRVRrQixFQUFLRCxXQUNOLE1BSVBuQixPQUFPa0IsVUFBVXVCLGlCQUFtQixXQUNoQyxJQUFJckIsRUFBT25CLEtBRVhtQixFQUFLZCxVQUFVb0MsTUFBTSxXQUNFLElBQWZ0QixFQUFLbEIsT0FDTGtCLEVBQUtaLFNBQVN5QixJQUFJLENBQUNYLE1BQVNGLEVBQUtULFlBQVlTLEVBQUtqQixjQUNsRGlCLEVBQUtsQixNQUFRa0IsRUFBS1QsWUFBYyxHQUVoQ1MsRUFBS2xCLFFBRVRrQixFQUFLRCxZQUVUQyxFQUFLYixXQUFXbUMsTUFBTSxXQUNkdEIsRUFBS2xCLFFBQVVrQixFQUFLVCxZQUFjLEdBQ2xDUyxFQUFLWixTQUFTeUIsSUFBSSxDQUFDWCxNQUFTRixFQUFLakIsY0FDakNpQixFQUFLbEIsTUFBUSxHQUVia0IsRUFBS2xCLFFBRVRrQixFQUFLRCxhQUtibkIsT0FBT2tCLFVBQVV5QixZQUFjLFNBQVVDLEdBRWpDQSxHQUNBM0MsS0FBS0ssVUFBVXVDLE9BQ2Y1QyxLQUFLTSxXQUFXc0MsU0FFaEI1QyxLQUFLSyxVQUFVd0MsT0FDZjdDLEtBQUtNLFdBQVd1QyxTQU14QjlDLE9BQU9rQixVQUFVNkIsa0JBQW9CLFdBRWpDLElBQUkzQixFQUFPbkIsS0FDWG1CLEVBQUtoQixZQUFZNEMsTUFBTSxXQUVuQkMsY0FBYzdCLEVBQUttQixPQUNuQm5CLEVBQUt1QixhQUFZLElBQ2xCLFdBQ0N2QixFQUFLa0IsT0FDTGxCLEVBQUt1QixhQUFZLE1BS3pCM0MsT0FBT2tCLFVBQVVnQyxrQkFBb0IsV0FDakMsSUFBSTlCLEVBQU9uQixLQUlYbUIsRUFBS1AsWUFBWUgsU0FBUyxNQUFNeUMsS0FBSyxTQUFVakQsRUFBT2tELEdBTWxEL0MsRUFBRStDLEdBQUtWLE1BQU0sV0FHVHRCLEVBQUtsQixNQUFRQSxFQUFNLEVBRW5Ca0IsRUFBS0QsZUFNakJuQixPQUFPa0IsVUFBVW1DLElBQU0sV0FDbkJwRCxLQUFLcUMsT0FDTHJDLEtBQUt3QyxtQkFDTHhDLEtBQUs4QyxvQkFDTDlDLEtBQUtrQyxrQkFDTGxDLEtBQUswQixhQUNMMUIsS0FBS2lELHFCQWFUcEMsaUJBQWlCSSxVQUFVb0MsMEJBQTRCLFdBQ25ELElBQUlsQyxFQUFPbkIsS0FDSUksRUFBRSxhQUNSSyxXQUFXZ0MsTUFBTSxXQUV0QixJQUFJYSxFQUFLbEQsRUFBRUosTUFDUGUsRUFBY3VDLEVBQUdDLEtBQUssaUJBRTFCQyxRQUFRQyxJQUFJLENBQ1JDLElBQU8sY0FDUEMsS0FBUSxDQUNKNUMsWUFBZUEsRUFDZjZDLEVBTEcsR0FPUEMsUUFBVyxTQUFVQyxHQUNqQixHQUF1QixNQUFuQkEsRUFBYSxLQUFXLENBQ3hCLElBQUlDLEVBQVNELEVBQWEsS0FDdEJFLEVBQU1DLFNBQVMsaUJBQWtCLENBQUNGLE9BQVVBLElBRTVDRyxFQUFpQjlELEVBQUUscUJBRXZCOEQsRUFBZUMsUUFDZkQsRUFBZXBDLE9BQU9rQyxHQUV0QjdDLEVBQUtMLEtBQU8sRUFDWkssRUFBS0osWUFBY0EsRUFDbkJ1QyxFQUFHL0IsU0FBUyxVQUFVQyxXQUFXQyxZQUFZLFVBQzdDTixFQUFLSCxTQUFTNEIsY0FRbEMvQixpQkFBaUJJLFVBQVVtRCxtQkFBcUIsV0FDNUMsSUFBSWpELEVBQU9uQixLQUNYbUIsRUFBS0gsU0FBU3lCLE1BQU0sV0FDaEJlLFFBQVFDLElBQUksQ0FDUkMsSUFBTyxjQUNQQyxLQUFRLENBQ0o1QyxZQUFlSSxFQUFLSixZQUNwQjZDLEVBQUt6QyxFQUFLTCxNQUVkK0MsUUFBVyxTQUFVQyxHQUNqQixHQUF1QixNQUFuQkEsRUFBYSxLQUFXLENBQ3hCLElBQUlDLEVBQVNELEVBQWEsS0FDMUIsR0FBb0IsRUFBaEJDLEVBQU9wRCxPQUFZLENBQ25CLElBQUlxRCxFQUFNQyxTQUFTLGlCQUFrQixDQUFDRixPQUFVQSxJQUN2QzNELEVBQUUscUJBQ1IwQixPQUFPa0MsR0FDVjdDLEVBQUtMLFlBRUxLLEVBQUtILFNBQVM2QixjQVF0Q2hDLGlCQUFpQkksVUFBVW1DLElBQU0sV0FDbEJwRCxLQUNOb0UscUJBRE1wRSxLQUVOcUQsNkJBS1RqRCxFQUFFLFlBQ2UsSUFBSUwsUUFDVnFELE9BRWdCLElBQUl2QyxrQkFDVnVDIiwiZmlsZSI6ImluZGV4Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIOWIm+W7ukJhbm5lcuexu1xyXG5mdW5jdGlvbiBCYW5uZXIoKSB7XHJcbiAgICB0aGlzLmluZGV4ID0gMTtcclxuICAgIHRoaXMuYmFubmVyV2lkdGggPSAyNjA7XHJcbiAgICB0aGlzLmJhbm5lckdyb3VwID0gJChcIiNiYW5uZXItZ3JvdXBcIik7XHJcbiAgICB0aGlzLmxlZnRBcnJvdyA9ICQoXCIubGVmdC1hcnJvd1wiKTtcclxuICAgIHRoaXMucmlnaHRBcnJvdyA9ICQoXCIucmlnaHQtYXJyb3dcIik7XHJcbiAgICB0aGlzLmJhbm5lclVsID0gJChcIiNiYW5uZXItdWxcIik7XHJcbiAgICB0aGlzLmJhbm5lckxpc3QgPSB0aGlzLmJhbm5lclVsLmNoaWxkcmVuKFwibGlcIik7XHJcbiAgICAvLyDorqHnrpdiYW5uZXJ1bOS4i+mdoueahGxp5qCH562+55qE5Liq5pWwXHJcbiAgICB0aGlzLmJhbm5lckNvdW50ID0gdGhpcy5iYW5uZXJMaXN0Lmxlbmd0aDtcclxuICAgIHRoaXMucGFnZWNvbnRyb2wgPSAkKFwiLnBhZ2UtY29udHJvbFwiKTtcclxufVxyXG5cclxuQmFubmVyLnByb3RvdHlwZS5hbmltYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5iYW5uZXJVbC5zdG9wKCkuYW5pbWF0ZSh7XCJsZWZ0XCI6IC0yNjAqc2VsZi5pbmRleH0sIDUwMCk7XHJcbiAgICB2YXIgaW5kZXggPSBzZWxmLmluZGV4O1xyXG4gICAgaWYoaW5kZXggPT09IDApe1xyXG4gICAgICAgIGluZGV4ID0gc2VsZi5iYW5uZXJDb3VudC0xO1xyXG4gICAgfWVsc2UgaWYoaW5kZXggPT09IHNlbGYuYmFubmVyQ291bnQrMSl7XHJcbiAgICAgICAgaW5kZXggPSAwO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgaW5kZXggPSBzZWxmLmluZGV4LTE7XHJcbiAgICB9XHJcbiAgICAvLyDlm77niYfova7mkq3ov4fljrvvvIzlsI/ngrnngrnkuZ/lupTor6XlpITkuo7mv4DmtLvnmoTnirbmgIFcclxuICAgIC8vIOS4uuW9k+WJjeeahGxp5qCH562+5re75YqgY2xhc3M9YWN0aXZl77yM5bm25LiU5om+5Yiw5YWE5byf6IqC54K556e76ZmkYWRkY2xhc3M9YWN0aXZlXHJcbiAgICAvLyAkKG9iaikuYWRkQ2xhc3MoXCJhY3RpdmVcIikuc2libGluZ3MoKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTvlhbbkuK0kKG9iainmmK9saXN0ZW5QYWdlQ29udHJvbOWHveaVsOS4rWVhY2goKeS4rWZ1bmN0aW9u5Lit55qE5LiA5Liq5Y+C5pWw77yMXHJcbiAgICAvLyDmiYDku6XlnKjov5nph4zkuI3og73nlKhcclxuICAgIC8vIOmAmui/h2NoaWxkcmVuKCnojrflj5Zsaeagh+etvu+8jOmAmui/h2VxKCnlh73mlbDojrflj5blvZPliY3nmoTnrKxpbmRleOW8oOWbvueJh1xyXG4gICAgc2VsZi5wYWdlY29udHJvbC5jaGlsZHJlbihcImxpXCIpLmVxKGluZGV4KS5hZGRDbGFzcyhcImFjdGl2ZVwiKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG5cclxufTtcclxuXHJcbi8vIOWIneWni+WMlmJhbm5lclxyXG5CYW5uZXIucHJvdG90eXBlLmluaXRCYW5uZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyDojrflj5bnrKzkuIDlvKDlm77niYflkozmnIDlkI7kuIDlvKDlm77niYdcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBmaXJzdEJhbm5lciA9IHNlbGYuYmFubmVyTGlzdC5lcSgwKS5jbG9uZSgpO1xyXG4gICAgdmFyIGxhc3RCYW5uZXIgPSBzZWxmLmJhbm5lckxpc3QuZXEoc2VsZi5iYW5uZXJDb3VudC0xKS5jbG9uZSgpO1xyXG4gICAgLy8g5bCG6I635Y+W55qE5Zu+54mH5re75Yqg5YiwYmFubmVydWzkuK1cclxuICAgIHNlbGYuYmFubmVyVWwuYXBwZW5kKGZpcnN0QmFubmVyKTtcclxuICAgIHNlbGYuYmFubmVyVWwucHJlcGVuZChsYXN0QmFubmVyKTtcclxuICAgIHNlbGYuYmFubmVyVWwuY3NzKHtcIndpZHRoXCI6IHNlbGYuYmFubmVyV2lkdGgqKHNlbGYuYmFubmVyQ291bnQrMiksIFwibGVmdFwiOiAtc2VsZi5iYW5uZXJXaWR0aH0pO1xyXG59O1xyXG5cclxuLy8g5Yid5aeL5YyW5bCP54K554K5XHJcbkJhbm5lci5wcm90b3R5cGUuaW5pdFBhZ2VDb250cm9sID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLmJhbm5lckNvdW50OyBpKyspIHtcclxuICAgICAgICB2YXIgY2lyY2xlID0gJChcIjxsaT48L2xpPlwiKTtcclxuICAgICAgICBzZWxmLnBhZ2Vjb250cm9sLmFwcGVuZChjaXJjbGUpO1xyXG5cclxuICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICBjaXJjbGUuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2VsZi5wYWdlY29udHJvbC5jc3Moe1wid2lkdGhcIjogdGhpcy5iYW5uZXJDb3VudCAqIDEwICsgMiAqIDYgKyAxMiAqIChzZWxmLmJhbm5lckNvdW50IC0gMSl9KTtcclxufTtcclxuXHJcbi8vXHJcbkJhbm5lci5wcm90b3R5cGUubG9vcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIC8vIOWumuS5ieS4gOS4quWumuaXtuWZqO+8jOS/neaMgeWbvueJhzLnp5Lpkp/pnZnmraLvvIzkuYvlkI7lho3miafooYxydW7lh73mlbBcclxuICAgIHNlbGYudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuaW5kZXggPj0gc2VsZi5iYW5uZXJDb3VudCsxKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYmFubmVyVWwuY3NzKHtcImxlZnRcIjogLXNlbGYuYmFubmVyV2lkdGh9KVxyXG4gICAgICAgICAgICBzZWxmLmluZGV4ID0gMjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLmluZGV4Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYuYW5pbWF0ZSgpO1xyXG4gICAgfSwgMjAwMCk7XHJcbn07XHJcblxyXG4vLyDmiafooYzngrnlh7vnrq3lpLTml7blm77niYfnmoTot7PovaxcclxuQmFubmVyLnByb3RvdHlwZS5saXN0ZW5BcnJvd0NsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgLy8g5bem566t5aS06KKr54K55Ye7XHJcbiAgICBzZWxmLmxlZnRBcnJvdy5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuaW5kZXggPT09IDApIHtcclxuICAgICAgICAgICAgc2VsZi5iYW5uZXJVbC5jc3Moe1wibGVmdFwiOiAtc2VsZi5iYW5uZXJDb3VudCpzZWxmLmJhbm5lcldpZHRofSk7XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXggPSBzZWxmLmJhbm5lckNvdW50IC0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLmluZGV4LS07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYuYW5pbWF0ZSgpO1xyXG4gICAgfSk7XHJcbiAgICBzZWxmLnJpZ2h0QXJyb3cuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChzZWxmLmluZGV4ID09PSBzZWxmLmJhbm5lckNvdW50ICsgMSkge1xyXG4gICAgICAgICAgICBzZWxmLmJhbm5lclVsLmNzcyh7XCJsZWZ0XCI6IC1zZWxmLmJhbm5lcldpZHRofSk7XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXggPSAyO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXgrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5hbmltYXRlKCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8vIOWumuS5ieS4gOS4quWHveaVsO+8mueureWktOeahOaYvuekuuS4juWQplxyXG5CYW5uZXIucHJvdG90eXBlLnRvZ2dsZUFycm93ID0gZnVuY3Rpb24gKGlzU2hvdykge1xyXG4gICAgLy8gdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgaWYgKGlzU2hvdykge1xyXG4gICAgICAgIHRoaXMubGVmdEFycm93LnNob3coKTtcclxuICAgICAgICB0aGlzLnJpZ2h0QXJyb3cuc2hvdygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmxlZnRBcnJvdy5oaWRlKCk7XHJcbiAgICAgICAgdGhpcy5yaWdodEFycm93LmhpZGUoKTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG4vLyDnm5HlkKzpvKDmoIfmgqzlgZzlnKjlm77niYfkuIpcclxuQmFubmVyLnByb3RvdHlwZS5saXN0ZW5CYW5uZXJIb3ZlciA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmJhbm5lckdyb3VwLmhvdmVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyDlhbPpl63orqHml7blmahcclxuICAgICAgICBjbGVhckludGVydmFsKHNlbGYudGltZXIpO1xyXG4gICAgICAgIHNlbGYudG9nZ2xlQXJyb3codHJ1ZSk7XHJcbiAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5sb29wKCk7XHJcbiAgICAgICAgc2VsZi50b2dnbGVBcnJvdyhmYWxzZSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8vIOebkeWQrOWwj+eCueeCueeCueWHu+S6i+S7tlxyXG5CYW5uZXIucHJvdG90eXBlLmxpc3RlblBhZ2VDb250cm9sID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgLy8g5Yip55SoZmluZCgp5Ye95pWw5om+5YiwdWzkuIvpnaLnmoRsaeagh+etvu+8jGVhY2goKeWHveaVsOi/m+ihjOmBjeWOhuavj+S4gOS4qmxp5qCH562+XHJcbiAgICAvLyDpgY3ljobmr4/kuIDkuKpsaeagh+etvuaJp+ihjGZ1bmN0aW9uKCnlh73mlbBcclxuICAgIC8vIGZ1bmN0aW9u5Ye95pWw5Lit5Lyg6YCS5Lik5Liq5Y+C5pWw77yMaW5kZXjjgIFsaeagh+etvuWvueixoW9ialxyXG4gICAgc2VsZi5wYWdlY29udHJvbC5jaGlsZHJlbihcImxpXCIpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBvYmopIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhpbmRleCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cob2JqKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIj09PT09PT09PT09XCIpO1xyXG4gICAgICAgIC8vIOWwhuW9k+WJjeeahGxp5qCH562+5YyF6KOF5oiQ5LiA5Liq5a+56LGhXHJcbiAgICAgICAgLy8g5b2T5bCP54K554K56KKr54K55Ye755qE5pe25YCZ6ZyA6KaB5omn6KGM55qE5Yqo5L2cXHJcbiAgICAgICAgJChvYmopLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8g5bCG5b2T5YmN54K55Ye755qE5bCP54K554K555qEaW5kZXjotYvlgLznu5nlvZPliY3nmoTlsI/ngrnngrlcclxuICAgICAgICAgICAgLy8g5Zug5Li65b2T5YmN55qEaW5kZXjlgLzlop7liqDkuoYx77yM5omA5Lul5q2k5pe255qEaW5kZXjlupTor6XnrYnkuo5pbmRleCsxXHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXggPSBpbmRleCsxO1xyXG4gICAgICAgICAgICAvLyDmiafooYzova7mkq3nmoTliqjkvZxcclxuICAgICAgICAgICAgc2VsZi5hbmltYXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8vIOWcqEJhbm5lcuexu+S4iue7keWumuS4gOS4quaWueazlVxyXG5CYW5uZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMubG9vcCgpO1xyXG4gICAgdGhpcy5saXN0ZW5BcnJvd0NsaWNrKCk7XHJcbiAgICB0aGlzLmxpc3RlbkJhbm5lckhvdmVyKCk7XHJcbiAgICB0aGlzLmluaXRQYWdlQ29udHJvbCgpO1xyXG4gICAgdGhpcy5pbml0QmFubmVyKCk7XHJcbiAgICB0aGlzLmxpc3RlblBhZ2VDb250cm9sKCk7XHJcbn07XHJcblxyXG4vLyDmlrDpl7vliJfooahcclxuZnVuY3Rpb24gTmV3c0F1dG9Mb2FkTW9yZSgpIHtcclxuICAgIHRoaXMucGFnZSA9IDI7XHJcbiAgICB0aGlzLmNhdGVnb3J5X2lkID0gMDtcclxuICAgIHRoaXMubG9hZE1vcmUgPSAkKFwiI2xvYWQtbW9yZVwiKTtcclxuXHJcblxyXG59XHJcblxyXG4vLyDnm5HlkKzmlrDpl7vliJfooajkuYvpl7TnmoTliIfmjaJcclxuTmV3c0F1dG9Mb2FkTW9yZS5wcm90b3R5cGUubGlzdGVuQ2F0ZWdvcnlTd2l0Y2hFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciB0YWJHcm91cCA9ICQoXCIubGlzdC10YWJcIik7XHJcbiAgICB0YWJHcm91cC5jaGlsZHJlbigpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyB0aGlz5Luj6KGo55qE5piv5b2T5YmN6YCJ5Lit55qE6L+Z5LiqbGnmoIfnrb5cclxuICAgICAgICB2YXIgbGkgPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciBjYXRlZ29yeV9pZCA9IGxpLmF0dHIoXCJkYXRhLWNhdGVnb3J5XCIpO1xyXG4gICAgICAgIHZhciBwYWdlID0gMTtcclxuICAgICAgICBhbnRhamF4LmdldCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL25ld3MvbGlzdC8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICdjYXRlZ29yeV9pZCc6IGNhdGVnb3J5X2lkLFxyXG4gICAgICAgICAgICAgICAgJ3AnOiBwYWdlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld3NlcyA9IHJlc3VsdFsnZGF0YSddO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cGwgPSB0ZW1wbGF0ZShcIm5ld3MtbG9hZC1tb3JlXCIsIHsnbmV3c2VzJzogbmV3c2VzfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsaXN0SW5uZXJHcm91cCA9ICQoXCIubGlzdC1pbm5lci1ncm91cFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eTog5Y+v5Lul5bCG6L+Z5Liq5qCH562+5LiL55qE5omA5pyJ5a2Q5YWD57Sg6YO95Yig6Zmk5o6J77ybXHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdElubmVyR3JvdXAuZW1wdHkoKTtcclxuICAgICAgICAgICAgICAgICAgICBsaXN0SW5uZXJHcm91cC5hcHBlbmQodHBsKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyDms6jmhI/vvIzov5nph4zlt7Lnu4/kuI3mmK8x5LqGXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNhdGVnb3J5X2lkID0gY2F0ZWdvcnlfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbGkuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZE1vcmUuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8vIOebkeWQrOWKoOi9veabtOWkmueahOaMiemSrlxyXG5OZXdzQXV0b0xvYWRNb3JlLnByb3RvdHlwZS5saXN0ZW5OZXdzTG9hZE1vcmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxvYWRNb3JlLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBhbnRhamF4LmdldCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL25ld3MvbGlzdC8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICdjYXRlZ29yeV9pZCc6IHNlbGYuY2F0ZWdvcnlfaWQsXHJcbiAgICAgICAgICAgICAgICAncCc6IHNlbGYucGFnZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdzZXMgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3c2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRwbCA9IHRlbXBsYXRlKFwibmV3cy1sb2FkLW1vcmVcIiwgeyduZXdzZXMnOiBuZXdzZXN9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVsID0gJChcIi5saXN0LWlubmVyLWdyb3VwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bC5hcHBlbmQodHBsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlICsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZE1vcmUuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KTtcclxufTtcclxuXHJcbk5ld3NBdXRvTG9hZE1vcmUucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubGlzdGVuTmV3c0xvYWRNb3JlKCk7XHJcbiAgICBzZWxmLmxpc3RlbkNhdGVnb3J5U3dpdGNoRXZlbnQoKTtcclxufTtcclxuXHJcblxyXG4vLyAkKCnlh73mlbDkuK3miafooYznmoTku6PnoIHvvIzmmK/lnKjnvZHpobXkuK3miYDmnInnmoTlhYPntKDpg73liqDovb3lrozmr5XkuYvlkI7vvIzmiY3kvJrmiafooYznmoRcclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgYmFubmVyID0gbmV3IEJhbm5lcigpO1xyXG4gICAgYmFubmVyLnJ1bigpO1xyXG5cclxuICAgIHZhciBuZXdzQXV0b0xvYWRNb3JlID0gbmV3IE5ld3NBdXRvTG9hZE1vcmUoKTtcclxuICAgIG5ld3NBdXRvTG9hZE1vcmUucnVuKCk7XHJcbn0pOyJdfQ==
